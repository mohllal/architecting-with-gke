# Module 6: Containers in the Cloud

- ***Google Kubernetes Engine (GKE)*** is like an *Infrastructure as a Service* offering in that it saves infrastructure chores. It's also like a *Platform as a Service* offering, in that it was built with the needs of developers in mind.
- ***Infrastructure as a Service*** offering let us share compute resources with others by ***virtualizing*** the hardware. Each Virtual Machine has its own instance of an *operating system*, and we can build and run applications on it with access to *memory*, *file systems*, *networking interfaces*, and the other attributes that physical computers also have.
- The idea of a ***Container*** is to give the ***independent scalability*** of workloads like we get in a *PaaS* environment, and an ***abstraction layer of the operating system*** and hardware, like we get in an *Infrastructure as a Service* environment. In essence, we're visualizing the operating system rather than the hardware.
- The container abstraction makes the code very ***portable***. We can treat the operating system and hardware as a black box.
- ***Kubernetes*** makes it easy to ***orchestrate*** many Containers on many hosts. *Scale* them, *roll out* new versions of them, and even *roll back* to the old version if things go wrong.
- Kubernetes is an *open-source orchestrator for containers*. Kubernetes offers an API that lets people, that is authorized people, not just anybody, control its operation through several utilities
- What's a cluster? It's a set of ***master*** components that *control the system as a whole* and a set of ***nodes*** that *run containers*. In Kubernetes, a node represents a computing instance. In Google Cloud, nodes are virtual machines running in Compute Engine.
- Whenever Kubernetes deploys a container or a set of related containers, it does so inside an abstraction called a ***pod***. *A pod is the smallest deployable unit in Kubernetes*.
- Containers on the same pod automatically *share networking* and they can have *disk storage volumes* in common. Each pod in Kubernetes gets a ***unique IP address*** and set of ports for your containers. Because containers inside a pod can communicate with each other using the *localhost network* interface, they don't know or care which nodes they're deployed on.
- So what is a ***deployment***? A deployment represents *a group of replicas of the same pod*. It keeps your pods running even if a node on which some of them run on fails.
- So what is a ***service***? A service groups a set of pods together and provides *a stable endpoint* for them.
- Why we don't use *pods' internal IP addresses* without the need for a service? As deployments create and destroy pods, *pods get their own IP addresses*, but those addresses *don't remain stable over time*. Services provide that stable endpoint you need.
- ***Modern hybrid*** or ***multi-cloud*** architecture allows us to keep parts of our systems infrastructure *on-premises* while moving other parts to the *Cloud*, creating an environment that is uniquely suited to your company's needs.
- ***Anthos*** is a hybrid and multi-cloud solution powered by the latest innovations in distributed systems, and service management software from Google. The Anthos framework rests on *Kubernetes* and *Google Kubernetes engine deployed on-prem*. Which provides the foundation for an architecture that is fully integrated with centralized management through a central control plane that supports policy based application lifecycle delivery across hybrid and multi-cloud environments.
- ***Google Kubernetes Engine*** is a managed *production-ready* environment for deploying containerized applications. Operates seamlessly with *high availability* and an SLA. Runs certified Kubernetes ensuring portability across clouds and on-premises. Includes *auto-node repair*, and *auto-upgrade*, and *auto-scaling*. Uses regional clusters for high availability with multiple masters. Node storage replication across multiple zones.
- Its counterpart on the on-premises side of a hybrid network is ***Google Kubernetes Engine deployed on-prem***. GKE deployed on-prem is a turn-key production-grade conformed version of Kubernetes with the best practice configuration already pre-loaded. Provides an easy upgrade path to the latest Kubernetes releases that have been validated and tested by Google. Provides access to container services on Google Cloud platform, such as Cloud build, container registry, audit logging, and more. It also integrates with Istio, Knative and Marketplace Solutions.
- ***Anthos Configuration Management*** provides a single source of truth for our clusters configuration. That source of truth is kept in the policy repository, which is *actually a git repository*. The Anthos Configuration Management agents use the policy repository to enforce configurations locally in each environment, managing the complexity of owning clusters across environments.